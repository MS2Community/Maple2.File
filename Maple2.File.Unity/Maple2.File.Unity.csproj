<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
        <PackageId>Maple2.File.Unity</PackageId>
        <TargetFramework>netstandard2.1</TargetFramework>
        <LangVersion>12</LangVersion>
        <Title>MapleStory2 File Parser for Unity</Title>
        <Authors>Tadeucci</Authors>
        <Description>Lightweight MapleStory2 m2d XBlock Parser for Unity</Description>
        <PackageLicenseExpression>GPL-3.0-or-later</PackageLicenseExpression>
        <RepositoryUrl>https://github.com/AngeloTadeucci/Maple2.File</RepositoryUrl>
        <PackageVersion>1.0.0</PackageVersion>
        <Nullable>enable</Nullable>
    </PropertyGroup>

    <!-- Reference IO project -->
    <ItemGroup>
      <ProjectReference Include="..\Maple2.File.IO\Maple2.File.IO.csproj" />
      <ProjectReference Include="..\Maple2.File.Flat\Maple2.File.Flat.csproj" />
      <ProjectReference Include="..\Maple2.File.Generator\Maple2.File.Generator.csproj" OutputItemType="Analyzer" ReferenceOutputAssembly="false" PrivateAssets="all" SkipGetTargetFrameworkProperties="true" />
    </ItemGroup>

    <!-- Include only XBlock-related files from Parser -->
    <ItemGroup>
        <!-- Flat types -->
        <Compile Include="..\Maple2.File.Parser\Flat\*.cs" Link="Flat\%(Filename)%(Extension)" />

        <!-- Flat Convert (needed for AssetIndex) -->
        <Compile Include="..\Maple2.File.Parser\Flat\Convert\AssetIndex.cs" Link="Flat\Convert\AssetIndex.cs" />

        <!-- MapXBlock -->
        <Compile Include="..\Maple2.File.Parser\MapXBlock\*.cs" Link="MapXBlock\%(Filename)%(Extension)" />
        <Compile Include="..\Maple2.File.Parser\MapXBlock\Generator\*.cs" Link="MapXBlock\Generator\%(Filename)%(Extension)" />

        <!-- Tools (needed by Flat and MapXBlock) -->
        <Compile Include="..\Maple2.File.Parser\Tools\HierarchyMap.cs" Link="Tools\HierarchyMap.cs" />
        <Compile Include="..\Maple2.File.Parser\Tools\ILEmitter.cs" Link="Tools\ILEmitter.cs" />
        <Compile Include="..\Maple2.File.Parser\Tools\Sanitizer.cs" Link="Tools\Sanitizer.cs" />
        <Compile Include="..\Maple2.File.Parser\Tools\Filter.cs" Link="Tools\Filter.cs" />

        <!-- NpcParser and dependencies -->
        <Compile Include="..\Maple2.File.Parser\NpcParser.cs" Link="NpcParser.cs" />
        <Compile Include="..\Maple2.File.Parser\Xml\Npc\*.cs" Link="Xml\Npc\%(Filename)%(Extension)" />
        <Compile Include="..\Maple2.File.Parser\Xml\Common\StatValue.cs" Link="Xml\Common\StatValue.cs" />
        <Compile Include="..\Maple2.File.Parser\Xml\Common\ItemOption.cs" Link="Xml\Common\ItemOption.cs" />
        <Compile Include="..\Maple2.File.Parser\Xml\Common\ItemOptionNew.cs" Link="Xml\Common\ItemOptionNew.cs" />

        <!-- All table XML types (needed by TableParser) -->
        <Compile Include="..\Maple2.File.Parser\Xml\Table\*.cs" Link="Xml\Table\%(Filename)%(Extension)" />

        <!-- TableParser -->
        <Compile Include="..\Maple2.File.Parser\TableParser.cs" Link="TableParser.cs" />

        <!-- MapParser and dependencies -->
        <Compile Include="..\Maple2.File.Parser\MapParser.cs" Link="MapParser.cs" />
        <Compile Include="..\Maple2.File.Parser\Xml\Map\*.cs" Link="Xml\Map\%(Filename)%(Extension)" />
        <Compile Include="..\Maple2.File.Parser\Xml\String\StringMapping.cs" Link="Xml\String\StringMapping.cs" />
        <Compile Include="..\Maple2.File.Parser\Xml\String\Key.cs" Link="Xml\String\Key.cs" />
        <Compile Include="..\Maple2.File.Parser\Enum\*.cs" Link="Enum\%(Filename)%(Extension)" />
    </ItemGroup>

</Project>
